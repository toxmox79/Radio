<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8" />
    <title>Solfeggio Schumann Radio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Radio mit Solfeggio-Frequenzen und Schumann-Resonanz">
    <meta name="theme-color" content="#0066cc">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="css/style.css?v=3">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üí†</text></svg>">
    <link rel="apple-touch-icon" href="icon-192.png">
</head>

<body>
    <div class="app-container">
        <div class="sidebar">
            <div class="tab active" data-page="player"><i class="fa-solid fa-radio"></i></div>
            <div class="tab" data-page="stations"><i class="fa-solid fa-list"></i></div>
            <div class="tab" data-page="podcasts"><i class="fa-solid fa-podcast"></i></div>
            <div class="tab" data-page="frequencies"><i class="fa-solid fa-wave-square"></i></div>
            <div class="tab" data-page="favorites"><i class="fa-solid fa-heart"></i></div>
            <div class="tab" data-page="settings"><i class="fa-solid fa-gear"></i></div>
        </div>

        <div class="main">
            <button class="theme-toggle"></button>

            <!-- Player Page -->
            <div id="page-player" class="page-content active">
                <div class="now-playing-header">
                    <h2 id="stationName">W√§hle einen Sender</h2>
                    <div class="subtitle" id="stationGenre">...</div>
                </div>

                <div class="player-main">
                    <div class="cover-with-services">
                        <div class="cover-container">
                            <div id="coverArt" class="cover"></div>
                        </div>
                        
                        <div class="music-service-links" id="musicServiceLinks" style="display: none;">
                            <a href="#" target="_blank" class="service-btn" id="spotifyLink" title="Spotify">
                                <i class="fa-brands fa-spotify"></i>
                            </a>
                            <a href="#" target="_blank" class="service-btn" id="youtubeLink" title="YouTube Music">
                                <i class="fa-brands fa-youtube"></i>
                            </a>
                            <a href="#" target="_blank" class="service-btn" id="soundcloudLink" title="Soundcloud">
                                <i class="fa-brands fa-soundcloud"></i>
                            </a>
                        </div>
                    </div>

                    <div class="track-info">
                        <div id="trackTitle">Titel: ‚Äì</div>
                        <div id="trackArtist">Interpret: ‚Äì</div>
                    </div>

                    <div class="controls">
                        <button class="btn" id="prevBtn"><i class="fa-solid fa-backward-step"></i></button>
                        <button class="btn" id="stopBtn"><i class="fa-solid fa-stop"></i></button>
                        <button class="btn big" id="playBtn"><i class="fa-solid fa-play"></i></button>
                        <button class="btn" id="nextBtn"><i class="fa-solid fa-forward-step"></i></button>
                        <button class="btn" id="favBtn">‚ù§</button>
                    </div>

                    <div class="volume-control">
                        <label for="radioVolume">Lautst√§rke:</label>
                        <input type="range" id="radioVolume" min="0" max="1" step="0.01" value="1">
                    </div>
                </div>
            </div>

            <!-- Stations Page -->
            <div id="page-stations" class="page-content">
                <h1>Senderwahl</h1>
                <div class="genre-filters" id="genreFilters"></div>
                <input id="searchStations" class="search-input" placeholder="Suche..." />
                <div class="station-list" id="stationList"></div>
            </div>

            <!-- Podcasts Page -->
            <div id="page-podcasts" class="page-content">
                <h1>Podcasts</h1>
                <div class="add-podcast-form">
                    <input type="text" id="newPodcastName" class="search-input" placeholder="Podcast Name">
                    <input type="text" id="newPodcastUrl" class="search-input" placeholder="Podcast URL (RSS or mp3)">
                    <button class="btn add-podcast-btn" id="addPodcastBtn"><i class="fa-solid fa-plus"></i> Hinzuf√ºgen</button>
                </div>
                <div class="podcast-list" id="podcastList"></div>
            </div>

            <!-- Frequencies Page -->
            <div id="page-frequencies" class="page-content">
                <h1>Frequenzen</h1>
                <div class="freq-header">
                    <span>Master Intensit√§t</span>
                    <input type="range" id="freqMasterVol" min="0" max="1" step="0.01" value="0.5">
                </div>
                <div class="freq-list" id="frequencyList"></div>
            </div>

            <!-- Favorites Page -->
            <div id="page-favorites" class="page-content">
                <h1>Favoriten</h1>
                <div class="station-list" id="favoritesList">
                    <div class="empty-state">Noch keine Favoriten.</div>
                </div>
            </div>

            <!-- Settings Page -->
            <div id="page-settings" class="page-content">
                <h1>Einstellungen</h1>
                <div class="settings-list">
                    <div class="setting-item">
                        <span>Dark Mode</span>
                        <label class="switch">
                            <input type="checkbox" id="darkModeToggle" checked />
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/stations.js?v=3"></script>
    <script src="js/podcasts.js"></script>
    <script src="js/frequencies.js?v=3"></script>
    <script src="js/db.js?v=3"></script>
    <script src="js/audio.js?v=3"></script>
    <script src="js/metadata.js?v=3"></script>
    <script src="js/app.js?v=3"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(registration => {
                        console.log('SW registered:', registration);
                    })
                    .catch(error => {
                        console.log('SW registration failed:', error);
                    });
            });
        }
    </script>
</body>

</html>
